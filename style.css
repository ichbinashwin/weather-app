:root{
  --bg: #0b1020;
  --panel: #121931;
  --text: #e8ecf4;
  --muted: #aab2c5;
  --accent: #7aa2ff;
}

*{ box-sizing: border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font: 16px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--text);
  background: linear-gradient(180deg,#0b1020 0%, #121931 60%, #0b1020 100%);
  transition: background 600ms ease, color 300ms ease;
}

/* Navbar */
.nav{
  position: sticky; top:0; z-index:10;
  display:flex; gap:1rem; align-items:center; justify-content:space-between;
  padding: .8rem 1rem; background: rgba(10,14,30,.7); backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(255,255,255,.06);
}
.brand{ display:flex; align-items:center; gap:.5rem; font-weight:700; letter-spacing:.3px;}
.brand img{ width:24px; height:24px; }
#searchForm{ display:flex; gap:.5rem; align-items:center; }
#searchInput{
  width:min(60vw, 360px);
  padding:.6rem .8rem; border-radius:10px; border:1px solid rgba(255,255,255,.15);
  background:#0f1734; color:var(--text); outline:none;
}
#searchInput::placeholder{ color:#9aa3bd; }
#searchBtn{
  padding:.6rem .9rem; border-radius:10px; border:0; cursor:pointer;
  background: var(--accent); color:#0a1026; font-weight:700;
}

/* Layout */
.wrap{ max-width: 980px; margin: 2rem auto; padding: 0 1rem; }
.card{
  background: var(--panel);
  padding: 1.2rem; border-radius: 16px; border: 1px solid rgba(255,255,255,.07);
  box-shadow: 0 10px 30px rgba(0,0,0,.25);
}
.topline{ display:flex; align-items:baseline; justify-content:space-between; gap:1rem; }
h1{ margin:0; font-size: clamp(1.3rem, 3.5vw, 2rem); }
.muted{ color: var(--muted); }

.stats{
  margin-top: .8rem;
  display:grid; grid-template-columns: repeat(4, minmax(120px,1fr)); gap:1rem;
}
@media (max-width:700px){ .stats{ grid-template-columns: repeat(2, 1fr);} }

.stat{ background: rgba(255,255,255,.03); border-radius: 12px; padding: .9rem; border:1px solid rgba(255,255,255,.06); }
.big{ font-size: clamp(1.6rem, 5.8vw, 2.6rem); font-weight:800; }
.label{ color: var(--muted); font-size:.9rem; margin-top:.25rem; }

.footer{ text-align:center; color:#8e97ad; padding:2rem 1rem; font-size:.9rem; }

/* THEME SWITCHES */
.theme-sunny{
  background: radial-gradient(1000px 600px at 100% 0%, #ffe38a 0%, rgba(255,227,138,0.4) 40%, transparent 60%), 
              linear-gradient(180deg, #87c8ff 0%, #cdeaff 100%);
  color: #1b2340;
}
.theme-cloudy{
  background: linear-gradient(180deg, #5f6f86 0%, #8e9bb0 60%, #c4ccd9 100%);
}
.theme-overcast{
  background: linear-gradient(180deg, #3f4958 0%, #6b7482 60%, #8e96a4 100%);
}
.theme-rain{
  background: linear-gradient(180deg, #2c3647 0%, #394559 60%, #475872 100%);
}
.theme-snow{
  background: linear-gradient(180deg, #8fb3ff 0%, #dfeaff 100%);
  color:#1b2340;
}
.theme-storm{
  background: linear-gradient(180deg, #1d1f2a 0%, #24273a 100%);
}

/* ANIMATION LAYER */
#animLayer{
  position: fixed; inset: 0; pointer-events:none; overflow:hidden;
}
#sunny{ position: absolute; right: 14px; top: 62px; width: 120px; height: 120px; opacity:.9; }
.sun-core{ fill: #ffd35c; }
.sun-rays line{ stroke:#ffd35c; stroke-width:3; stroke-linecap:round; }
.sun-rays{ transform-origin:50% 50%; animation: spin 14s linear infinite; }
@keyframes spin{ to{ transform: rotate(360deg); } }

#clouds{ position:absolute; top: 80px; left:0; width: 100%; height: 160px; opacity:.7; }
#clouds ellipse{ fill:#f2f6ff; }
.cloud-a{ animation: drift 40s linear infinite; }
.cloud-b{ animation: drift 55s linear infinite reverse; }
@keyframes drift{
  0% { transform: translateX(-10%); }
  100%{ transform: translateX(10%); }
}

#rain{ position:absolute; inset:0; opacity:.5; }
#rain line{ stroke:#cfe4ff; stroke-width:1.6; stroke-linecap:round; }
.drops .row line{ animation: fall 1.2s linear infinite; }
@keyframes fall{
  0% { transform: translateY(-100px); opacity: 0; }
  10%{ opacity:1; }
  100%{ transform: translateY(120vh); opacity: 0; }
}

/* Visibility toggles set by JS */
.hide{ display:none !important; }